<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
    {{- partial "head.html" . -}}
    <body data-theme="{{ .Site.Params.mode | default "dark"}}" class="notransition">

      <script>
        const body = document.body;
        const data = body.getAttribute("data-theme");

        const initTheme = (state) => {
          if (state === "dark") {
            body.setAttribute("data-theme", "dark");
          } else if (state === "light") {
            body.removeAttribute("data-theme");
          } else {
            localStorage.setItem("theme", data);
          }
        };

        initTheme(localStorage.getItem("theme"));

        setTimeout(() => body.classList.remove("notransition"), 75);
      </script>

      <div class="wrapper">
        <main aria-label="Content">
          {{- block "content" . }}{{- end }}
        </main>
      </div>
      {{- partial "footer.html" . -}}
    </body>
</html>
